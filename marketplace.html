<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  <link rel="stylesheet" href="marketplace.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <meta charset="utf-8"> -->
  <meta name="keywords" content="Easycook,Coffee &amp;amp; 01, 02, 03, 04, Receipe, Marketplace">
  <meta name="description" content="">
  <title>Marketplace</title>
  <link rel="stylesheet" href="nicepage.css" media="screen">
  <link rel="stylesheet" href="Page-1.css" media="screen">
  <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
  <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
  <meta name="generator" content="Nicepage 4.21.5, nicepage.com">
  <link id="u-theme-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
  <link id="u-page-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Oswald:200,300,400,500,600,700|Lato:100,100i,300,300i,400,400i,700,700i,900,900i|Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i">
  <!-- Add icon library -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- VUE -->
  <script src="https://unpkg.com/vue@next"></script>
  <style>
    .card {
      margin: 10px;
    }

    #logoutbtn,
    #logoutbtn2 {
      border: white;
      /* background-color:#F8F7F6; */
      background: none;
    }

    #recipebtn,
    #recipebtn2 {
      border: white;
      /* background-color:#F8F7F6; */
      background: none;
    }

    #profilebtn,
    #profilebtn2 {
      border: white;
      /* background-color:#F8F7F6; */
      background: none;
    }

    #marketplacebtn,
    #marketplacebtn2 {
      border: white;
      /* background-color:#F8F7F6; */
      background: none;
    }

    html {
      scroll-behavior: smooth;
    }

    .info-tool-tip {
      /* font-size: 1.4rem; */
      color: #a17d60;
      padding-top: 15px;
      padding-left: 2px;

      cursor: pointer;
    }

    .info-tool-tipbox {
      /* font-size: 1.4rem; */
      /* color: #a17d60; */
      /* padding: 20px; */
      cursor: pointer;
      top: 60px;
      /* margin-bottom:-20px */

    }

    #tooltip-text {
      background-color: #dcc5a5;
      color: white;
      font-size: 0.88rem;
      position: absolute;
      padding: 10px 15px;
      margin: 10px;
      border-radius: 7px;
      visibility: hidden;
      /* bottom: 10px; */
      opacity: 2;
      transition: all 0.4s linear;
    }

    .info-tool-tipbox:hover #tooltip-text {
      visibility: visible;
      opacity: 2;
    }

    #topBtn {
      display: none;
      /* Hidden by default */
      position: fixed;
      /* Fixed/sticky position */
      bottom: 20px;
      /* Place the button at the bottom of the page */
      right: 30px;
      /* Place the button 30px from the right */
      z-index: 99;
      /* Make sure it does not overlap */
      border: none;
      /* Remove borders */
      outline: none;
      /* Remove outline */
      background-color: #a17d60;
      /* Set a background color */
      color: white;
      /* Text color */
      cursor: pointer;
      /* Add a mouse pointer on hover */
      padding: 15px;
      /* Some padding */
      border-radius: 5px;
      /* Rounded corners */
      font-size: 12px;
      /* Increase font size */
    }

    #topBtn:hover {
      background-color: #dcc5a5;
      color:black;
      /* Add a dark-grey background on hover */
    }
  </style>

  <title>Home</title>

  <script type="application/ld+json">{
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "",
      "logo": "images/default-logo.png"
  }</script>
  <meta name="theme-color" content="#478ac9">
  <meta property="og:title" content="Page 1">
  <meta property="og:type" content="website">
</head>

<!-- https://icons.getbootstrap.com/ -->

<!--NavBar-->

<body class="u-body u-xl-mode d-flex flex-column min-vh-100" data-lang="en" style='background-color:#F8F7F6'>
  <header class="u-clearfix u-header u-header" id="sec-6f6c">
    <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
      <a href="index.html" class="u-image u-logo u-image-1">
        <!-- <img src="images/default-logo.png" class="u-logo-image u-logo-image-1"> -->
        Easycook
      </a>
      <nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
        <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
          <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
            href="#">
            <svg class="u-svg-link" viewBox="0 0 24 24">
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use>
            </svg>
            <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px"
              xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
              <g>
                <rect y="1" width="16" height="2"></rect>
                <rect y="7" width="16" height="2"></rect>
                <rect y="13" width="16" height="2"></rect>
              </g>
            </svg>
          </a>
        </div>
        <div class="u-nav-container">
          <ul class="u-nav u-unstyled u-nav-1">
            <li class="u-nav-item"><a class="u-button-style u-nav-link  u-text-hover-palette-1-base" href="home.html"
                style="padding: 10px 20px;">Home</a>
            </li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link  u-text-hover-palette-1-base"
                style="padding: 10px 20px;"><button id="recipebtn">Recipes</button></a>
            </li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link  u-text-hover-palette-1-base"
                style="padding: 10px 20px;"><button id="marketplacebtn">Marketplace</button></a>
            </li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link  u-text-hover-palette-1-base"
                style="padding: 10px 20px;"><button id="profilebtn">Profile</button></a>
            </li>
            <li class="u-nav-item"><a class="u-button-style u-nav-link  u-text-hover-palette-1-base"
                style="padding: 10px 20px;"><button id="logoutbtn">Logout</button></a>
            </li>
          </ul>
        </div>

        <div class="u-nav-container-collapse">
          <div class="u-grey u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
            <div class="u-inner-container-layout u-sidenav-overflow">
              <div class="u-menu-close"></div>
              <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">
                <li class="u-nav-item"><a class="u-button-style u-nav-link" href="home.html">Home</a>
                </li>
                <li class="u-nav-item"><a class="u-button-style u-nav-link"><button id="recipebtn2">Recipes</button></a>
                </li>
                <li class="u-nav-item"><a class="u-button-style u-nav-link"><button
                      id="marketplacebtn2">Marketplace</button></a></a>
                </li>
                <li class="u-nav-item"><a class="u-button-style u-nav-link"><button
                      id="profilebtn2">Profile</button></a>
                </li>
                <li class="u-nav-item"><a class=" u-button-style u-nav-link"><button id="logoutbtn2">Logout</button></a>
                </li>
              </ul>
            </div>
          </div>
          <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
        </div>

      </nav>

    </div>
  </header>

  <div class="container-fluid">
    <div class="header2 row">
      <!-- <div class="col-lg-6">
                <p class="subtext">Marketplace | Where you share your unused ingredients or cooked food</p>
            </div> -->
      <!-- <div class="col-lg-6 col-md-12 col-sm-12">
        input tag
        <button id="searchbar"><input style="float:left;" id="searchbar" type="text" name="search"
          placeholder="Search animals.."></button>
        <button class="chatBtn btn btn-md btn-block"><i class="fa fa-comments"></i> Chat</button>
      </div> -->
      <div class="col-lg-12 col-md-12 col-sm-12">
        <button style="float:right;background-color:#a17d60" id="createBtn" class="createBtn btn btn-md btn-block"
          type="button" onclick="window.location.href='createPD.html';">+ Create New Listing</button>
        <!-- <button class="chatBtn btn btn-md btn-block"><i class="fa fa-comments"></i> Chat</button> -->
      </div>

      <!-- <div class="col-lg-6">
            <p class="subtext">where you share your unused ingredients or cooked food</p  >
          </div> -->
    </div>
  </div>

  <div class="container-fluid">
    <div class="header2 row">
      <!--FILTERS-->
      <div class="col-lg-12 col-md-12 col-sm-12">
        <button style="float:left;background-color:#a17d60;margin-right: 2px;font-size: 12px;" id="filtera"
          class="createBtn btn btn-md btn-block" type="button">All Categories</button>
        <button style="float:left;background-color:#a17d60;margin-right: 2px;font-size: 12px;" id="filters"
          class="createBtn btn btn-md btn-block" type="button">Seafood</button>

        <button style="float:left;background-color:#a17d60;margin-right: 2px;font-size: 12px;" id="filterv"
          class="createBtn btn btn-md btn-block" type="button">Vegetables</button>

        <button style="float:left;background-color:#a17d60;margin-right: 2px;font-size: 12px;" id="filterm"
          class="createBtn btn btn-md btn-block" type="button">Meat/Protein</button>

        <button style="float:left;background-color:#a17d60;margin-right: 2px;font-size: 12px;" id="filterf"
          class="createBtn btn btn-md btn-block" type="button">Fruits</button>

        <button style="float:left;background-color:#a17d60;margin-right: 2px;font-size: 12px;" id="filtero"
          class="createBtn btn btn-md btn-block" type="button">Others</button>

        <span class="info-tool-tipbox">
          <i class="info-tool-tip fa-solid fa-circle-info" style='text-align:center;'></i>
          <span id="tooltip-text" style="text-align: center;"><b>Click to Filter the Categories</b></span>
        </span>

        <button onclick="topFunction()" id="topBtn" title="Go to top">Go to Top ^</button>
      </div>
    </div>
  </div>


  <div class="container-fluid">
    <!-- Lay Foo
          <div class="row"> -->
    <div class="row" id="app">
      <div v-for="card of cardList" class="col-12 col-sm-6 col-md-4 col-lg-3">
        <div class="card effect shadow rounded" style='transition:1s;'>
          <form action="product_page.html" method="get">
            <img class="card-img-top" :src="'img/' + card.image" alt="Card image cap">
            <div class="card-body">
              <h5 class="card-title">{{card.title}}<span style="float:right;">${{card.price}}</span>
              </h5>
              <p class="card-text"><strong><small>GOOD TILL: {{card.expiry}}</small><strong></p>
              <input type="text" :value="card.childkey" name="productid" style='display:none' />
            </div>
            <span>
              <button id="passBtn" class="bckBtn btn btn-sm btn-block" type="submit"
                style='float:left;margin-left:5px;;margin-bottom:5px;'>Details</button>
              <small class="card-text"
                style='float:right;margin-right:5px;font-weight: normal; text-align: center;'>Catgeory:
                {{card.cat}}</small>
            </span>

          </form>
        </div>
      </div>

    </div>
  </div>

  <br>
  <!-- Footer -->
  <footer class="py-2 mt-auto border-top-1 border">
    <p class="text-center text-muted pt-2">&copy; 2022 Easycook, Inc</p>
    <ul class="nav justify-content-center  mb-3">
      <li class="nav-item"><a href="" class="nav-link px-2 text-muted">Home</a></li>
      <li class="nav-item"><a href="" class="nav-link px-2 text-muted">Recipes</a></li>
      <li class="nav-item"><a href="" class="nav-link px-2 text-muted">Marketplace</a></li>
      <li class="nav-item"><a href="" class="nav-link px-2 text-muted">FAQs</a></li>
      <li class="nav-item"><a href="" class="nav-link px-2 text-muted">About</a></li>
    </ul>
  </footer>

  <!-- firebase -->

  <script type='module'>
    // JavaScript code
    // function search_animal() {

    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";
    import { getDatabase, ref, child, onValue, get, query, orderByValue, equalTo, orderByChild, limitToFirst, orderByKey } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-database.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    import {
      getFirestore, doc, getDoc, setDoc, collection, addDoc, updateDoc, deleteDoc, deleteField
    }
      from "https://www.gstatic.com/firebasejs/9.12.1/firebase-firestore.js";
    const firebaseConfig = {
      apiKey: "AIzaSyCUwFb-W_pR0s_iO2tplBAxXXakhVWs8lM",
      authDomain: "g2t5-wad2.firebaseapp.com",
      databaseURL: "https://g2t5-wad2-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "g2t5-wad2",
      storageBucket: "g2t5-wad2.appspot.com",
      messagingSenderId: "634091812622",
      appId: "1:634091812622:web:9c1e64920c60792226495f",
      measurementId: "G-MJKTY27Q23"
    };
    // Initialize Firebase
    const firebase_app = initializeApp(firebaseConfig);
    const db = getDatabase();
    const firedb = getFirestore();



    //TO GET ALL THE FILTER BUTTONS
    let filterA = document.getElementById("filtera");
    let filterS = document.getElementById("filters");
    let filterV = document.getElementById("filterv");
    let filterM = document.getElementById("filterm");
    let filterF = document.getElementById("filterf");
    let filterO = document.getElementById("filtero");

    //  var childkey = "";
    const app = Vue.createApp({
      data() {
        return {
          // Lay Foo
          // title: '',
          // desc: '',
          // price: '',
          // date: '',
          // location: '',
          // childkey: ''

          // Lay Foo: add
          cardList: []
        }
      },

      methods: {
        async GetADocument() {
          // var filters = false

          // console.log(filters)

          // if (filter != false) {

          //TO DISPLAY ALL THE POST WHEN ENTER MARKETPLACE
          const dbRef = ref(db, 'ProductLists');
          const mostViewedPosts = query(ref(db, 'ProductLists'), orderByChild('timelist'));
          console.log(mostViewedPosts)
          console.log(dbRef)
          onValue(mostViewedPosts, (snapshot) => {
            snapshot.forEach((childSnapshot) => {
              const childKey = childSnapshot.key;
              const childData = childSnapshot.val();
              console.log(childKey);
              console.log(childData)


              // var price = childData.productPrice;
              // var title = childData.productTitle;
              // var image = childData.productImgName;
              // var expiry = childData.productDate;
              // var childkey = childData.productID;
              // addToList(price, expiry, title, image, childkey);
              this.cardList.push({
                price: childData.productPrice,
                title: childData.productTitle,
                image: childData.productImgName,
                expiry: childData.productDate,
                childkey: childData.productID,
                cat: childData.category
              })


              // let childkey = childKey;
              // console.log(childkey);



            });
          },
            {
              onlyOnce: true
            });


          //TO DISPLAY POSTS THAT IS OF CATEGORY SEAFOOD
          filterS.addEventListener('click', () => {
            while (this.cardList.length) {
              this.cardList.pop();
            }
            let filters = true;
            const dbRef = ref(db, 'ProductLists');
            const mostViewedPosts2 = query(ref(db, 'ProductLists'), orderByChild('category'), equalTo('Seafood'));
            console.log(mostViewedPosts2)
            console.log(dbRef)
            onValue(mostViewedPosts2, (snapshot) => {
              snapshot.forEach((childSnapshot) => {
                const childKey = childSnapshot.key;
                const childData = childSnapshot.val();
                console.log(childKey);
                console.log(childData)


                // var price = childData.productPrice;
                // var title = childData.productTitle;
                // var image = childData.productImgName;
                // var expiry = childData.productDate;
                // var childkey = childData.productID;
                // addToList(price, expiry, title, image, childkey);
                this.cardList.push({
                  price: childData.productPrice,
                  title: childData.productTitle,
                  image: childData.productImgName,
                  expiry: childData.productDate,
                  childkey: childData.productID,
                  cat: childData.category
                })
                // console.log(mostViewedPosts);


                // let childkey = childKey;
                // console.log(childkey);



              });
            },
              {
                onlyOnce: true
              });
            if (filters == true) {
              console.log(mostViewedPosts)
            }
          });

          //TO DISPLAY POSTS THAT IS OF CATEGORY VEGETABLES
          filterV.addEventListener('click', () => {
            while (this.cardList.length) {
              this.cardList.pop();
            }
            let filters = true;
            const dbRef = ref(db, 'ProductLists');
            const mostViewedPosts2 = query(ref(db, 'ProductLists'), orderByChild('category'), equalTo('Vegetables'));
            console.log(mostViewedPosts2)
            console.log(dbRef)
            onValue(mostViewedPosts2, (snapshot) => {
              snapshot.forEach((childSnapshot) => {
                const childKey = childSnapshot.key;
                const childData = childSnapshot.val();
                console.log(childKey);
                console.log(childData)


                // var price = childData.productPrice;
                // var title = childData.productTitle;
                // var image = childData.productImgName;
                // var expiry = childData.productDate;
                // var childkey = childData.productID;
                // addToList(price, expiry, title, image, childkey);
                this.cardList.push({
                  price: childData.productPrice,
                  title: childData.productTitle,
                  image: childData.productImgName,
                  expiry: childData.productDate,
                  childkey: childData.productID,
                  cat: childData.category
                })
                // console.log(mostViewedPosts);


                // let childkey = childKey;
                // console.log(childkey);



              });
            },
              {
                onlyOnce: true
              });
            if (filters == true) {
              console.log(mostViewedPosts)
            }
          });

          //TO DISPLAY POSTS THAT IS OF CATEGORY MEAT
          filterM.addEventListener('click', () => {
            while (this.cardList.length) {
              this.cardList.pop();
            }
            let filters = true;
            const dbRef = ref(db, 'ProductLists');
            const mostViewedPosts2 = query(ref(db, 'ProductLists'), orderByChild('category'), equalTo('Meat'));
            console.log(mostViewedPosts2)
            console.log(dbRef)
            onValue(mostViewedPosts2, (snapshot) => {
              snapshot.forEach((childSnapshot) => {
                const childKey = childSnapshot.key;
                const childData = childSnapshot.val();
                console.log(childKey);
                console.log(childData)


                // var price = childData.productPrice;
                // var title = childData.productTitle;
                // var image = childData.productImgName;
                // var expiry = childData.productDate;
                // var childkey = childData.productID;
                // addToList(price, expiry, title, image, childkey);
                this.cardList.push({
                  price: childData.productPrice,
                  title: childData.productTitle,
                  image: childData.productImgName,
                  expiry: childData.productDate,
                  childkey: childData.productID,
                  cat: childData.category
                })
                // console.log(mostViewedPosts);


                // let childkey = childKey;
                // console.log(childkey);



              });
            },
              {
                onlyOnce: true
              });
            if (filters == true) {
              console.log(mostViewedPosts)
            }
          })

          //TO DISPLAY POSTS THAT IS OF CATEGORY FRUITS
          filterF.addEventListener('click', () => {
            while (this.cardList.length) {
              this.cardList.pop();
            }
            let filters = true;
            const dbRef = ref(db, 'ProductLists');
            const mostViewedPosts2 = query(ref(db, 'ProductLists'), orderByChild('category'), equalTo('Fruits'));
            console.log(mostViewedPosts2)
            console.log(dbRef)
            onValue(mostViewedPosts2, (snapshot) => {
              snapshot.forEach((childSnapshot) => {
                const childKey = childSnapshot.key;
                const childData = childSnapshot.val();
                console.log(childKey);
                console.log(childData)


                // var price = childData.productPrice;
                // var title = childData.productTitle;
                // var image = childData.productImgName;
                // var expiry = childData.productDate;
                // var childkey = childData.productID;
                // addToList(price, expiry, title, image, childkey);
                this.cardList.push({
                  price: childData.productPrice,
                  title: childData.productTitle,
                  image: childData.productImgName,
                  expiry: childData.productDate,
                  childkey: childData.productID,
                  cat: childData.category
                })
                // console.log(mostViewedPosts);


                // let childkey = childKey;
                // console.log(childkey);



              });
            },
              {
                onlyOnce: true
              });
            if (filters == true) {
              console.log(mostViewedPosts)
            }
          });

          //TO DISPLAY POSTS THAT IS OF CATEGORY OTHERS
          filterO.addEventListener('click', () => {
            while (this.cardList.length) {
              this.cardList.pop();
            }
            let filters = true;
            const dbRef = ref(db, 'ProductLists');
            const mostViewedPosts2 = query(ref(db, 'ProductLists'), orderByChild('category'), equalTo('Others'));
            console.log(mostViewedPosts2)
            console.log(dbRef)
            onValue(mostViewedPosts2, (snapshot) => {
              snapshot.forEach((childSnapshot) => {
                const childKey = childSnapshot.key;
                const childData = childSnapshot.val();
                console.log(childKey);
                console.log(childData)


                // var price = childData.productPrice;
                // var title = childData.productTitle;
                // var image = childData.productImgName;
                // var expiry = childData.productDate;
                // var childkey = childData.productID;
                // addToList(price, expiry, title, image, childkey);
                this.cardList.push({
                  price: childData.productPrice,
                  title: childData.productTitle,
                  image: childData.productImgName,
                  expiry: childData.productDate,
                  childkey: childData.productID,
                  cat: childData.category
                })
                // console.log(mostViewedPosts);


                // let childkey = childKey;
                // console.log(childkey);



              });
            },
              {
                onlyOnce: true
              });
            if (filters == true) {
              console.log(mostViewedPosts)
            }
          });

          //TO DISPLAY POSTS THAT IS OF ALL CATEGORY WHEN CLICK ALL POSTS
          filterA.addEventListener('click', () => {
            while (this.cardList.length) {
              this.cardList.pop();
            }
            let filters = true;
            const dbRef = ref(db, 'ProductLists');
            const mostViewedPosts2 = query(ref(db, 'ProductLists'), orderByChild('timelist'));
            console.log(mostViewedPosts2)
            console.log(dbRef)
            onValue(mostViewedPosts2, (snapshot) => {
              snapshot.forEach((childSnapshot) => {
                const childKey = childSnapshot.key;
                const childData = childSnapshot.val();
                console.log(childKey);
                console.log(childData)


                // var price = childData.productPrice;
                // var title = childData.productTitle;
                // var image = childData.productImgName;
                // var expiry = childData.productDate;
                // var childkey = childData.productID;
                // addToList(price, expiry, title, image, childkey);
                this.cardList.push({
                  price: childData.productPrice,
                  title: childData.productTitle,
                  image: childData.productImgName,
                  expiry: childData.productDate,
                  childkey: childData.productID,
                  cat: childData.category
                })
                // console.log(mostViewedPosts);


                // let childkey = childKey;
                // console.log(childkey);



              });
            },
              {
                onlyOnce: true
              });
            if (filters == true) {
              console.log(mostViewedPosts)
            }
          })


          // if (filters == true){
          //   console.log("hi")
          // }
          // else if (filter == false) {

          // }

        }

      },

      created() {
        // filter.addEventListener("click", this.GetADocument2)
        this.GetADocument();
      }

    }).mount('#app')
    //  console.log(childkey);
    //  let passBtn = document.getElementById("passBtn");
    //  console.log(passBtn);
    //  passBtn.addEventListener("click",storekey);
    let logoutbtn = document.getElementById("logoutbtn");
    let logoutbtn2 = document.getElementById("logoutbtn2");
    async function logout() {
      // let email = localStorage.getItem("UserEmail")
      // console.log(email)
      // var ref = doc(firedb, "Users", email);
      // await updateDoc(
      //     ref, {
      //     recipes: JSON.parse(localStorage.getItem('likedRecipes')),
      // }
      // )
      //     .then(() => {
      //         alert("Logout Successful");
      //         window.location = "login.html";
      //         window.history.forward();
      //     })
      //     .catch((error) => {
      //         alert("Logout Unsuccessful" + error);
      //     });
      localStorage.clear();
      window.location = "login.html";
      window.history.forward();
    }

    logoutbtn.addEventListener("click", logout);
    logoutbtn2.addEventListener("click", logout);

    let recipetbtn = document.getElementById("recipebtn");
    let recipetbtn2 = document.getElementById("recipebtn2");

    function goFindRecipe() {
      // alert("Logout Successful");
      window.location = "findRecipe.html";
      window.history.forward();
    }
    recipetbtn.addEventListener("click", goFindRecipe);
    recipetbtn2.addEventListener("click", goFindRecipe);

    let profilebtn = document.getElementById("profilebtn");
    let profilebtn2 = document.getElementById("profilebtn2");

    function goProfile() {
      // alert("Logout Successful");
      window.location = "profile.html";
      window.history.forward();
    }
    profilebtn.addEventListener("click", goProfile);
    profilebtn2.addEventListener("click", goProfile);

    let marketplacebtn = document.getElementById("marketplacebtn");
    let marketplacebtn2 = document.getElementById("marketplacebtn2");

    function goMarket() {
      // alert("Logout Successful");
      window.location = "profile.html";
      window.history.forward();
    }
    marketplacebtn.addEventListener("click", goMarket);
    marketplacebtn2.addEventListener("click", goMarket);


    // let searchbar = document.getElementById("searchbar");


    //   function search_animals() {
    //     let input = document.getElementById('searchbar').value
    //     input = input.toLowerCase();
    //     for (i = 0; i < cardList.length; i++) {
    //     if (!x[i].innerHTML.toLowerCase().includes(input)) {
    //       x[i].style.display = "none";
    //     }
    //     else {
    //       x[i].style.display = "list-item";
    //     }
    //     }
    //     console.log(input)
    //    }
    //    searchbar.addEventListener("onkeydown", search_animals);



  </script>
  <script>
    //  dun mix Vue.js with normal DOM manipulation
    // function addToList(price, date, title, image, childkey)
    //   var div = document.getElementById('app');
    //   var divcard = document.createElement('div');
    //   divcard.innerHTML = `
    //                         <div class="col-lg-12 col-md-2 col-sm-2">
    //                         <div class="card" style="width: 18rem;">
    //                           <form action ="product_page.html" method="get" target="_blank">
    //                           <img class="card-img-top" src="img/${image}" alt="Card image cap">
    //                           <div class="card-body">
    //                           <h5 class="card-title">${title}<span style = 'float:right'>$${price}</span></h5>
    //                           <p class="card-text"><strong><small>GOOD TILL: ${date}</small><strong></p>
    //                           <input type ="text" value ="${childkey}" name="productid" style = 'display:none'/>
    //                           </div>
    //                           <button id = "passBtn" class="bckBtn btn btn-sm btn-block"type="submit">Details</button>
    //                           </form
    //                         </div>
    //                         </div>
    //                         <br>
    //                         `
    //   div.appendChild(divcard);
    // Get the button:
    let mybutton = document.getElementById("topBtn");

    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function () { scrollFunction() };

    function scrollFunction() {
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        mybutton.style.display = "block";
      } else {
        mybutton.style.display = "none";
      }
    }

    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
      document.body.scrollTop = 0; // For Safari
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
      behavior: "smooth";
    }

  </script>

</body>


</html>