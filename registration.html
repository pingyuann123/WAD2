<html>
    <head>
        <!-- bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
        <style>
          /* Navigation Bar Styling*/
            .nav-item{
                color:#a17d60;
            }
            .appName{
                color:#a17d60;
                font-weight:bold;
            }
      
            body{
              background-color:rgb(255, 255, 255);
              font-weight: 300;
              line-height: 1.6;
              font-size: 1.05rem;
            }
      
      
            img{
              width: 100%;
            }
      
            .rightBox{
              margin-left: 15%;
              margin-right: 15%;
            }

      
      
      
          </style>

    </head>
    <body class="d-flex flex-column min-vh-100">
             <!-- Navigation bar -->
             <!-- <nav class="navbar navbar-expand-lg " id="headerNav">
              <div class="container-fluid">
                  <ul class="navbar-nav mx-auto">
                    <li class="nav-item d-none d-lg-block">
                      <a class="nav-link mx-2 appName" href="#">
                      </a>
                      </li>
                  </ul>
                </div>
            </nav> -->
           <!-- End of Navigation bar -->
       <div class="container-fluid mb-5">
          <div class="row mb-5">

              <!-- left side -->
              
              <div class="col-lg-6 col-md-6 col-sm-5 col-xs-4 d-flex mx-auto .d-sm-none .d-md-block">
                <iframe src="https://embed.lottiefiles.com/animation/26901" style="padding:0; width: 100%; height: 100%; margin: 0"></iframe>
              </div>
       
              <!-- right side -->
              <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 text-black">
                  <div class="pb-3">
                  <div class="rightBox centered-element" >
                      <form class="registerForm">
            
                      <h1 class="registerWord pt-5 pb-3 text-center fw-normal mt-3">Register</h1>
                      <p class="registersub text-center">Do you have an Account? <a href="login.html" class="link-info">Log in Here</a></p>
          
                      <hr class="lineBreak pb-2"></hr>
                            
                      <div class="form-outline mb-3">
                        <label class="nameLabel form-label" for="name">Name</label>
                        <input type="name" id="name" class="form-control form-control-lg" />
                      </div>
                      
                      <div class="form-outline mb-3">
                        <label class="usernameLabel form-label" for="username">Username</label>
                        <input type="name" id="username" class="form-control form-control-lg" />
                      </div>
  
                      <div class="form-outline mb-3">
                        <label class="emailLabel form-label" for="email">Email address</label>
                        <input type="email" id="email" class="form-control form-control-lg" />
                      </div>
          
                      <div class="form-outline mb-3">
                        <label class="passwordLabel form-label" for="password">Password</label>
                        <input type="password" id="password" class="form-control form-control-lg" />
                      </div>
          
                      <div class="mt-5  text-center">
                          <button style="background-color:#a17d60; color:white" id = "register" class="registerBtn btn btn-lg" type="button">Sign up</button>
                      </div>
          
                      <div class=" mt-4 text-center">
                          <div class="line"></div>
                          <p class="text-center fw-bold mx-3 text-muted">OR</p>
                        </div>
                      <div class="text-center mt-4">
                          <button type="button" class="btn btn-link btn-floating mx-1">
                            <img style="width:150px"src="./img/allLogos.png" alt="">
                          </button>
          
                      
                    </form>
                  </div>
                  
                  </div>
          </div>
       </div>
       <hr>
       <!-- Footer -->
       <footer class="py-3 my-2 mt-auto">
          <p class="text-center text-muted pt-3">&copy; 2022 Easycook, Inc</p>
          <ul class="nav justify-content-center  mb-3">
              <li class="nav-item"><a href="home.html" class="nav-link px-2 text-muted">Home</a></li>
              <li class="nav-item"><a href="findRecipe.html" class="nav-link px-2 text-muted">Recipes</a></li>
              <li class="nav-item"><a href="marketplace.html" class="nav-link px-2 text-muted">Marketplace</a></li>
              <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">FAQs</a></li>
              <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">About</a></li>
            </ul>
          
        </footer>
       </div>
         
    </div>
    
      
  </body>
    
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";
      import { getDatabase, set, ref } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-database.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-analytics.js";
      import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-auth.js";


      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyCUwFb-W_pR0s_iO2tplBAxXXakhVWs8lM",
        authDomain: "g2t5-wad2.firebaseapp.com",
        databaseURL: "https://g2t5-wad2-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "g2t5-wad2",
        storageBucket: "g2t5-wad2.appspot.com",
        messagingSenderId: "634091812622",
        appId: "1:634091812622:web:9c1e64920c60792226495f",
        measurementId: "G-MJKTY27Q23"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app);
      const analytics = getAnalytics(app);

      const auth = getAuth();

      register.addEventListener('click', (e) => {

        var username = document.getElementById('username').value
        var email = document.getElementById('email').value
        var name = document.getElementById('name').value
        var password = document.getElementById('password').value


        
        createUserWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
          // Signed in 
          const user = userCredential.user;

          set(ref(database, 'users/' + user.uid), {
            name: name,
            username: username,
            email: email
          })

          console.log(username)
          alert('Registration Complete!');

            //Storing of user registration info to new page 
            sessionStorage.setItem('name',name)
            sessionStorage.setItem('username',username)
            sessionStorage.setItem('email',email)
            sessionStorage.setItem('uid',user.uid)


          window.location = "registration2.html";

          // ...
        })
        .catch((error) => {
          const errorCode = error.code;
          const errorMessage = error.message;

          alert(errorMessage)
          // ..
        });
      })
</script>
</html>
